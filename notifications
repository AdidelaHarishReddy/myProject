import smtplib
from email.mime.text import MIMEText

def send_email(subject, body, sender, recipients, password, smtp_server="smtp.gmail.com", port=587):
    # Create MIMEText object
    msg = MIMEText(body)
    msg['Subject'] = subject
    msg['From'] = sender
    msg['To'] = ", ".join(recipients) if isinstance(recipients, list) else recipients

    try:
        # Connect to SMTP server
        with smtplib.SMTP(smtp_server, port) as server:
            server.starttls()  # Enable TLS
            server.login(sender, password)  # Login to server
            server.send_message(msg)  # Send email
            print("Email sent successfully!")
    except Exception as e:
        print(f"Error sending email: {e}")

# Example usage
if __name__ == "__main__":
    subject = "Test Notification"
    body = "This is a test email notification."
    sender = "your_email@gmail.com"
    recipients = ["recipient@example.com"]  # Can be a single email or list
    password = "your_app_password"  # Use app-specific password for Gmail

    send_email(subject, body, sender, recipients, password)
